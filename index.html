<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
  <title>The Rum Diary</title>

  <!-- DNS prefetch and preconnect for external domains -->
  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://stackpath.bootstrapcdn.com">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <!-- Preload critical resources -->
  <link rel="preload" href="styles/index.css" as="style">
  <link rel="preload" href="assets/bite.webp" as="image" type="image/webp">
  <link rel="preload" href="logo.svg" as="image" type="image/svg+xml">
  <link rel="preload" href="fonts/alegreya-v29-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="fonts/alegreya-v29-latin-900.woff2" as="font" type="font/woff2" crossorigin>

  <!-- Critical CSS -->
  <link rel="stylesheet" href="styles/index.css" />

  <!-- Defer non-critical CSS -->
  <link rel="preload" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <noscript><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"></noscript>

  <link rel="preload" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"></noscript>

  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap"></noscript>
</head>
<body>
  <div id="cookie-layer" class="cookieLayer__base">
    <div class="cookieLayer__content">
      <h2 class="cookieLayer__title">Do you like cookies ?</h2>
      <p class="cookieLayer__text">This is the best chocolate chip cookies recipe ever! No funny ingredients, no chilling time, etc. Just a simple, straightforward, amazingly delicious, doughy yet still fully cooked, chocolate chip cookie that turns out perfectly every single time!</p>
      <p class="cookieLayer__text">The first step in making these easy chocolate chip cookies to to combine the dry ingredients in a medium size bowl. Next, cream together butter and sugars. Add the eggs & vanilla and beat to combine. Add dry ingredients and stir until just combined. Then add the chocolate chips and beat until they are evenly distributed throughout the dough.</p>
      <button class="cookieLayer__button" id="accept-cookies">I solemny swear I will bake these cookies</button>
      <div class="cookieLayer__disclaimer">This box is made using Vanilla JavaScript and is super fast!</div>
    </div>
  </div>
  <header class="header__base">
    <div class="header__content">
      <a class="header__logo" href="#">
        <img class="header__image" src="./logo.svg" alt="The Rum Diary logo" width="150" height="50">
      </a>
      <div class="header__navigation">
        <ul class="navigation__list">
          <li class="navigation__item">
            <a class="navigation__link" href="#">
              Articles
            </a>
          </li>
          <li class="navigation__item">
            <a class="navigation__link" href="#">
              About
            </a>
          </li>
          <li class="navigation__item">
            <a class="navigation__link" href="#">
              Contact
            </a>
          </li>
        </ul>
      </div>
    </div>
  </header>

  <main class="main__base">
    <div class="main__advertising"></div>
    
    <div class="main__content">
      <div class="main__news main__section">
        <marquee width="100%" direction="left" style="line-height: 30px;background-color: darkred;color: red;"></marquee>
      </div>
      
      <div class="main__hero main__section">
        <div class="hero__carousel div1 swiper">
          <!-- Additional required wrapper -->
          <div class="swiper-wrapper">
            <!-- Slides -->
            <div class="swiper-slide"><img src="assets/bite.webp" alt="Local restaurants optimizing time to first bite" width="600" height="400"></div>
            <div class="swiper-slide"><img src="assets/waterfalls.webp" alt="Top 10 waterfalls to analyse this week" width="393" height="195" loading="lazy"></div>
            <div class="swiper-slide"><img src="assets/bounce.webp" alt="Bouncing rates increased significantly last week" width="650" height="300" loading="lazy"></div>
          </div>
          <div class="swiper-text">Local restaurants finally optimising time to first bite</div>
        </div>

        <div class="hero__teaser div2">
          <img src="assets/waterfalls.webp" alt="Top 10 waterfalls to analyse this week" class="hero__img" width="393" height="195" loading="lazy">
          <div class="hero__teaserText">Top 10 waterfalls to analyse this week</div>
        </div>
        <div class="hero__teaser div3">
          <img src="assets/bounce.webp" alt="Bouncing rates increased significantly last week" class="hero__img" width="650" height="300" loading="lazy">
          <div class="hero__teaserText">Bouncing rates increased signifincantly last week</div>
        </div>
      </div>

      <div class="main__teasers main__section">
        <article class="teaser__base">
          <img class="teaser__image" src="assets/bite.webp" alt="First Party article" width="600" height="400" loading="lazy"><hr>
          <h1 class="teaser__title">First Party</h1>
          <div class="teaser__text"></div>
          <button class="teaser__link">Read more</button>
        </article>
        <article class="teaser__base">
          <img class="teaser__image" src="assets/waterfalls.webp" alt="Second Party article" width="393" height="195" loading="lazy"><hr>
          <h1 class="teaser__title">Second Party</h1>
          <div class="teaser__text"></div>
          <button class="teaser__link">Read more</button>
        </article>
        <article class="teaser__base">
          <img class="teaser__image" src="assets/bounce.webp" alt="Third Party article" width="650" height="300" loading="lazy"><hr>
          <h1 class="teaser__title">Third Party</h1>
          <div class="teaser__text"></div>
          <button class="teaser__link">Read more</button>
        </article>
      </div>
      
      <div class="main__weather main__section" style="min-height: 250px;">
        <a class="weatherwidget-io" href="https://forecast7.com/en/48d1411d58/munich/" data-label_1="MUNICH" data-label_2="WEATHER" data-theme="original" >MUNICH WEATHER</a>
      </div>
      
      <div class="main__video main__section">
        <iframe src="https://player.vimeo.com/video/44265326?h=1e8b36c00b&autoplay=1&loop=1&byline=0&muted=1&controls=0 " width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen loading="lazy"></iframe>
        <div class="form__base">
          <div class="form__intro">Something about lighthouses, describing point of the video we are putting here to prove how awesome they really are, no.</div>
          <div class="from__control">
            <label class="form__label">Name</label>
            <input type="text" />
          </div>
          <div class="from__control">
            <label class="form__label">Please share with us why do you think lighthouses are awesome: </label>
            <textarea></textarea>
          </div>
          <a class="form__button" id="button" onclick="alert('Submitting using way too much JavaScript...')">Submit</a>
        </div>
    </div>
  </main>
  
  <div class="disclaimer__base">
    <p class="disclaimer__text">
      This site is made for the purpose of web performance and accessibility testing challeng and it is full of bad practices on purpose.
    </p>
  </div>
  
  <div class="footer__base">
    <div class="footer__content">
      <div class="footer__menu">
        <a href="#" class="footer__link">About Us</a>
        <a href="https://www.netcentric.biz/legal/imprint.html" class="footer__link">Imprint</a>
        <a href="https://www.netcentric.biz/legal/privacy.html" class="footer__link">Privacy</a>
      </div>
      <div class="footer__sponsor">Powered by <a href="https://www.netcentric.biz/">Cognizant Netcentric</a></div>
    </div>
  </div>

  <!-- Inline optimized scripts -->
  <script>
    // Load mobile CSS asynchronously
    function loadMobileCSS() {
      const link = document.createElement('link');
      link.rel = 'stylesheet';
      link.href = 'styles/mobile.css';
      document.head.appendChild(link);
    }

    // Advertisement loader with Intersection Observer for better performance
    function initAd() {
      const adSpace = document.querySelector('.main__advertising');
      if (!adSpace) return;

      const gif = '<div style="width:400px;max-width:100%;"><div style="height:0;padding-bottom:52.4%;position:relative;"><iframe width="500" height="262" style="position:absolute;top:0;left:0;width:100%;height:100%;" frameBorder="0" src="https://imgflip.com/embed/6wy03z"></iframe></div></div>';

      // Use Intersection Observer to load ad only when visible
      const observer = new IntersectionObserver((entries) => {
        if (entries[0].isIntersecting) {
          adSpace.innerHTML = gif;
          observer.disconnect();
        }
      }, { rootMargin: '50px' });

      observer.observe(adSpace);
    }

    // Initialize on DOMContentLoaded for faster execution
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        initAd();
        loadMobileCSS();
      });
    } else {
      initAd();
      loadMobileCSS();
    }
  </script>

  <!-- JavaScript loaded at end with defer for non-blocking parsing -->
  <script defer src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js"></script>
  <script defer src="https://weatherwidget.io/js/widget.min.js"></script>
  <script defer src="script/carousel.js"></script>
  <script defer src="script/app.js"></script>
</body>
</html>
